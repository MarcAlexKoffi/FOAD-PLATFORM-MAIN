<div class="foad-page foad-demandes">
  <main class="container">
    <!-- Heading + CTA -->
    <header class="page-head">
      <div class="titles">
        <h1>Gestion des Demandes</h1>
        <p>Centralisez et suivez toutes les demandes de contenu.</p>
      </div>
      <button class="btn btn-primary">
        <span class="mi" aria-hidden="true">add</span>
        Nouvelle demande
      </button>
    </header>

    <!-- Carte Recherche + Filtres -->
    <section class="card card-filters">
      <div class="input-search">
        <span class="search-icon mi" aria-hidden="true">search</span>
        <input type="text" placeholder="Rechercher par mot-clé, titre, ou demandeur…" [(ngModel)]="searchTerm"  aria-label="Rechercher" />
      </div>

      <div class="chips">
        <button class="chip">
          <span class="mi">rule</span>
          Statut : <strong>Tous</strong>
          <span class="mi">expand_more</span>
        </button>
        <button class="chip">
          <span class="mi">category</span>
          Type : <strong>Tous</strong>
          <span class="mi">expand_more</span>
        </button>
        <button class="chip">
          <span class="mi">person</span>
          Acteur : <strong>Tous</strong>
          <span class="mi">expand_more</span>
        </button>
        <button class="chip">
          <span class="mi">date_range</span>
          Période : <strong>Tous</strong>
          <span class="mi">expand_more</span>
        </button>

        <button class="chip chip-ghost ml-auto">
          <span class="mi">refresh</span>
          Réinitialiser
        </button>
      </div>
    </section>

    <!-- Tableau -->
    <section class="card">
      <div class="table-wrap">
        <table aria-label="Table des demandes">
          <thead>
            <tr>
              <th class="w-check">
                <input type="checkbox" />
              </th>
              <th>Titre de la demande</th>
              <th>Demandeur</th>
              <th>Statut</th>
              <th>Date de création</th>
              <th>Dernière mise à jour</th>
              <th class="ta-right">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let d of filteredDemandes">
    <td><input type="checkbox" /></td>
    <td class="strong">{{ d.titre }}</td>
    <td class="muted">{{ d.demandeur }}</td>
    <td>
      <span class="badge"
            [ngClass]="{
              'bdg-info': d.statut === 'En cours',
              'bdg-ok': d.statut === 'Validé',
              'bdg-ko': d.statut === 'Rejeté',
              'bdg-wait': d.statut === 'En attente'
            }">
        <span class="dot"></span> {{ d.statut }}
      </span>
    </td>
    <td class="muted">{{ d.dateCreation }}</td>
    <td class="muted">{{ d.dateMAJ }}</td>
    <td class="ta-right">
      <button class="link" [routerLink]="'/creatorlayout/detaildemandes'">Voir</button>
    </td>
  </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <footer class="table-foot">
        <p class="muted">Affiche <strong>1–5</strong> sur <strong>42</strong> demandes</p>
        <nav class="pager">
          <button class="btn-ico" aria-label="Page précédente"><span class="mi">chevron_left</span></button>
          <button class="page current">1</button>
          <button class="page">2</button>
          <button class="page">3</button>
          <span class="muted">…</span>
          <button class="page">9</button>
          <button class="btn-ico" aria-label="Page suivante"><span class="mi">chevron_right</span></button>
        </nav>
      </footer>
    </section>
  </main>
</div>
